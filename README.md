# [kube-form](https://kube-form.web.app/)

<p align="center">
    <a href="https://kube-form.web.app/">
        <img src="https://user-images.githubusercontent.com/31841502/183884426-e720a67d-0aad-4551-9c2f-c8b0cf8cac08.png", style="width:500px;">
    </a>
    <h3 align="center">
        <a href="">Visit the live app</a>
    </h3>
    
</p>

## π† Info
kubeform ν”„λ΅μ νΈμ—μ„ μ‚¬μ©μκ°€ μ •μν• k8s λ‹¤μ΄μ–΄κ·Έλ¨λ€λ΅ AWS EKS ν™κ²½μ„ μƒμ„±ν•κ³  μ‚¬μ©μκ°€ μ •μν• docker imageλ“¤μ„ μ μ©μ‹ν‚¤λ” μ‘μ—…μ„ μλ™ν™”ν–μµλ‹λ‹¤.  
Flask API μ„λ²„μ—μ„ POST μ”μ²­μ„ λ°›μΌλ©΄, μ‚¬μ©μμ IAM Userλ¥Ό κΈ°λ°μΌλ΅ AWS EKS ν΄λ¬μ¤ν„°λ¥Ό Terraformμ„ μ΄μ©ν•΄ μƒμ„±ν•©λ‹λ‹¤.    
μƒμ„±ν• μ΄ν›„ μ‚¬μ©μκ°€ μ •μν• docker imageλ“¤μ„ μ›μ»¤λ…Έλ“μ— applyν•λ” μ‘μ—…μ„ μλ™ν™” ν•κΈ° μ„ν•΄ yaml manifest νμΌλ“¤μ„ μλ™μΌλ΅ νΈμ§‘ν•κ³  μ μ©μ‹ν‚¤λ” μ‘μ—…μ„ μ™„λ£ν–μµλ‹λ‹¤. 

## π—‚ Structure

-   **flask** - API Server by Flask

    -   Flaskλ¥Ό μ΄μ©ν•΄ API μ„λ²„ κµ¬μ΅°λ¥Ό λ§λ“¤κ³ , μ‰ μ¤ν¬λ¦½νΈλ¥Ό μν–‰ν•λ”λ°μ— μ‚¬μ©ν•μ€μµλ‹λ‹¤.

-   **terraform** - AWS EKS μƒμ μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„° ν™κ²½μ„ ν”„λ΅λΉ„μ €λ‹ν• Terraform κµ¬μ„±

    -  ν΄λΌμ°λ“ ν™κ²½μ μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°λ¥Ό μ μ‘ν•κΈ° μ„ν•΄ AWS μΈν”„λΌλ¥Ό μƒμ„±ν•΄μ•Ό ν•©λ‹λ‹¤.
    -  μ›μ»¤λ…Έλ“λ“¤μ— ν•΄λ‹Ήλλ” EC2λ“¤κ³Ό μ΄ EC2 μΈμ¤ν„΄μ¤λ“¤μ„ private μ„λΈλ„·μ— λ°°μΉν•κ³ , μ΄λ“¤μ΄ μ™Έλ¶€μ™€ ν†µμ‹ ν•κΈ°μ„ν• NAT gateway, NLB λ“± λ§μ€ AWS μΈν”„λΌλ¥Ό μƒμ„±ν•΄μ•Ό ν•©λ‹λ‹¤. 
    -  μ΄ λ¨λ“  λ¦¬μ†μ¤λ“¤μ„ Terraformμ„ μ‚¬μ©ν•΄ μΈν”„λΌλ“¤μ„ ν”„λ΅λΉ„μ €λ‹ ν•΄λ‘λ” μ‘μ—…μ„ μ™„λ£ν–μµλ‹λ‹¤. 

-   **sample, k8s** - kubectl λ…λ Ήμ„ μ„ν•΄ ν•„μ”ν• yaml λ§¤λ‹ν¨μ¤νΈ νμΌλ“¤
    -  μƒμ„±λ ν΄λΌμ°λ“ λ¦¬μ†μ¤λ“¤μ„ λ°°κ²½μΌλ΅ μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°λ¥Ό μƒμ„±ν•κΈ° μ„ν•΄ κµ¬μ„±κ΄€λ¦¬ νμΌλ“¤μ„ μλ™μΌλ΅ μƒμ„±ν•©λ‹λ‹¤.
    -  κµ¬μ„±κ΄€λ¦¬ νμΌλ“¤μ„ kubectl λ…λ ΉμΌλ΅ ν΄λ¬μ¤ν„°λ¥Ό μƒμ„±ν• λ‹¤μ, μ •λ³΄λ“¤μ„ κ°€μ Έμ™€ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ν•©λ‹λ‹¤.
 

## π‰ Features
![AWS ](https://user-images.githubusercontent.com/31841502/183807939-d5a5c84e-40f2-4806-ad57-75444c4030b2.png)

μ‚¬μ©μμ—κ² EKS μΏ λ²„λ„¤ν‹°μ¤ ν™κ²½μ„ μ μ‘ν•΄μ£Όλ” μ μ°¨λ” ν¬κ² 2κ°€μ§€λ΅ λ‚λ‰©λ‹λ‹¤.
1. TerraformμΌλ΅ μ‚¬μ©μμ ν΄λΌμ°λ“ ν™κ²½μ—μ„ μ—¬λ¬ κ°μ AWS μΈν”„λΌλ¥Ό μƒμ„±
2. EKSμ— kubectlμΌλ΅ μ ‘μ†ν•΄ μ‚¬μ©μκ°€ μ •μν• ν΄λ¬μ¤ν„° κµ¬μ΅°λ¥Ό λ””ν”λ΅μ΄λ¨ΌνΈν™” ν•μ—¬ μ μ©

### [TerraformμΌλ΅ μ‚¬μ©μμ ν΄λΌμ°λ“ ν™κ²½μ—μ„ μ—¬λ¬ κ°μ AWS μΈν”„λΌλ¥Ό μƒμ„±]
ν΄λΌμ°λ“ μƒμ μΏ λ²„λ„¤ν‹°μ¤ ν™κ²½μ„ μ„¤μΉν•κΈ° μ„ν•΄μ„λ” λ‹¨μν EKS μ„λΉ„μ¤λ§ μƒμ„±ν•΄μ„λ” μ•λ©λ‹λ‹¤. EKSλ” λ§μ¤ν„° λ…Έλ“μ μ—­ν• μ„ ν•λ” λ‘λ‡μΌλΏ, μ›μ»¤λ…Έλ“λ“¤μ— ν•΄λ‹Ήλλ” EC2λ“¤κ³Ό
μ΄ EC2 μΈμ¤ν„΄μ¤λ“¤μ„ private μ„λΈλ„·μ— λ°°μΉν•κ³ , μ΄λ“¤μ΄ μ™Έλ¶€μ™€ ν†µμ‹ ν•κΈ°μ„ν• NAT gateway, NLB λ“± λ§μ€ AWS μΈν”„λΌλ¥Ό μƒμ„±ν•΄μ•Ό ν•©λ‹λ‹¤. μ΄ λ¨λ“  λ¦¬μ†μ¤λ“¤μ„ Terraformμ„ μ‚¬μ©ν•΄ μΈν”„λΌλ“¤μ„ ν”„λ΅λΉ„μ €λ‹ ν•΄λ‘λ” μ‘μ—…μ„ μ™„λ£ν–μµλ‹λ‹¤. μ‚¬μ©μκ°€ μ •μν• μ›μ»¤λ…Έλ“ κ°μ,μΈμ¤ν„΄μ¤ μ ν• λ“±λ“¤μ„ λ³€μλ΅ λ°›μ•„ Terraform applyμ‘μ—…μ„ μ™„λ£ν•λ©΄ 10λ¶„~12λ¶„ μ‚¬μ΄μ— λ¨λ“  μΈν”„λΌ κµ¬μ„±μ΄ μλ™μΌλ΅ μƒμ„±λ©λ‹λ‹¤.


### [EKSμ— kubectlμΌλ΅ μ ‘μ†ν•΄ μ‚¬μ©μκ°€ μ •μν• ν΄λ¬μ¤ν„° κµ¬μ΅°λ¥Ό λ””ν”λ΅μ΄λ¨ΌνΈν™” ν•μ—¬ μ μ©]
 
AWSμƒμ μΈν”„λΌ μƒμ„±μ΄ μ™„λ£λλ©΄ μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°λ¥Ό μ μ©μ‹ν‚¬ μ°¨λ΅€μ…λ‹λ‹¤. ν΄λΌμ΄μ–ΈνΈμ—μ„ λ°›μ€ μ‚¬μ©μκ°€ μ •μν• ν΄λ¬μ¤ν„° μ •λ³΄λ¥Ό JSON ν•νƒλ΅ μ κ³µλ°›μ•„ μ΄ μ”μ†λ“¤μ„ deployment.yaml, service.yaml, namespace.yaml λ“±μ κµ¬μ„±κ΄€λ¦¬ νμΌλ΅ μλ™μΌλ΅ μ‘μ„±ν•λ” μ•κ³ λ¦¬μ¦μ„ Flask μ„λ²„λ΅ μμ²΄ μ„¤κ³„, κ°λ°ν•μ€μµλ‹λ‹¤. κµ¬μ„±κ΄€λ¦¬ νμΌμ΄ μλ™μΌλ΅ μƒμ„±λλ©΄, μ΄ νμΌλ“¤μ„ EKSμ— μ μ©μ‹ν‚¤λ” λ‹¨κ³„λ΅ λ„μ–΄κ°‘λ‹λ‹¤. kubectlμ„ ν†µν•΄ λ¨λ“  μ„λΉ„μ¤λ“¤μ„ μ μ©μ‹ν‚¤κ³ λ‚λ©΄ κ°κ°μ μ„λΉ„μ¤λ΅ μ—°κ²°λλ” μΈκ·Έλ μ¤ μ»¨νΈλ΅¤λ¬ μ§„μ…μ λ“¤μ„ μ• μ μκ³ , μ΄ μ •λ³΄λ“¤μ„ λ¨μ•„ μ‚¬μ©μλ“¤μ΄ μ •λ³΄λ¥Ό ν™•μΈν•  μ μλ„λ΅ ν΄λΌμ΄μ–ΈνΈλ΅ μ „λ‹¬ν•©λ‹λ‹¤.


## π€ Author

-   [μ„μ²­μ΄](https://github.com/newdeal123)

## π‹ Contributing

-   I will not be accepting PR's on this repository. Feel free to fork and maintain your own version.

## π“„ License

-   This project is open source and available under the [MIT License](LICENSE).
